(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(4654)}])},4654:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5893),l=s(6154),n=s(7294),i=s(8094),r=s.n(i),o=s(183),c=s(4566),d=s(1298),h=s(8702),p=s.n(h),_=function(e){let{setMoney:t}=e,{user:s,setUser:i,setAllTransactions:r,allTransactions:o}=(0,c.b)(),[d,h]=(0,n.useState)(s.fake_money),[_,m]=(0,n.useState)(""),[u,x]=(0,n.useState)(""),f=new Date,j=String(f.getDate()).padStart(2,"0"),b=String(f.getMonth()+1).padStart(2,"0"),N=f.getFullYear(),y="".concat(b,"/").concat(j,"/").concat(N),g=()=>{if(u>0){let e=s.fake_money+parseFloat(u);l.Z.post("https://sports-odds.herokuapp.com/update_money",{fake_money:e}).then(s=>{200===s.status&&i(s.data),l.Z.post("https://sports-odds.herokuapp.com/addTransaction",{date:y,transaction_type:"Deposit",transaction_amount:u,money_in_account:e}).then(e=>{200===e.status&&(r(e.data),alert("$".concat(u," has been added to your account!")),x(""),t(!1))})})}},v=()=>{if(_>0&&d>=_){let e=s.fake_money-parseFloat(_);l.Z.post("https://sports-odds.herokuapp.com/update_money",{fake_money:e}).then(s=>{200===s.status&&i(s.data),l.Z.post("https://sports-odds.herokuapp.com/addTransaction",{date:y,transaction_type:"Withdrawal",transaction_amount:_,money_in_account:e}).then(e=>{200===e.status&&(r(e.data),alert("$".concat(_," has been withdrawn from your account!")),m(""),t(!1))})})}};return(0,a.jsxs)("div",{className:p().betting_account,children:[(0,a.jsx)("h1",{children:"Betting Account"}),(0,a.jsxs)("div",{style:{margin:5,paddingLeft:5,paddingRight:5},children:[(0,a.jsx)("label",{htmlFor:"deposit",children:"Deposit:"}),(0,a.jsx)("input",{type:"number",id:"deposit",value:u,onChange:e=>x(e.target.value)}),(0,a.jsx)("button",{onClick:g,children:"Deposit"})]}),(0,a.jsxs)("div",{style:{margin:5,paddingLeft:5,paddingRight:5},children:[(0,a.jsx)("label",{htmlFor:"withdraw",children:"Withdraw:"}),(0,a.jsx)("input",{type:"number",id:"withdraw",value:_,onChange:e=>m(e.target.value)}),(0,a.jsx)("button",{onClick:v,children:"Withdraw"})]})]})},m=s(3363),u=s.n(m);let x=()=>{let{setUser:e}=(0,c.b)(),[t,s]=(0,n.useState)(!1),[i,r]=(0,n.useState)(null);async function o(t){t.preventDefault(),s(!0);let a=new FormData;a.append("file",i);let n=await l.Z.post("https://sports-odds.herokuapp.com/api/dropbox/upload",a),r=n.data,o=r.url,c=o.replace("dl=0","raw=1");l.Z.post("https://sports-odds.herokuapp.com/api/update_image",{image:c}).then(t=>{200===t.status&&e(t.data),s(!1)})}return(0,a.jsx)("div",{className:u().container,children:(0,a.jsxs)("form",{style:{display:"flex",alignItems:"center",flexDirection:"column"},onSubmit:o,children:[(0,a.jsx)("input",{type:"file",name:"file",id:"file",className:u().fileInput,onChange:function(e){r(e.target.files[0])},disabled:t}),(0,a.jsx)("label",{htmlFor:"file",className:u().uploadLabel,children:"Choose a file"}),i&&(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsxs)("p",{className:u().fileUrl,children:["Upload ",i.name,"?"]})," "]}),(0,a.jsx)("button",{className:u().uploadButton,onClick:o,disabled:!i||t,children:t?"Uploading...":"Upload"})]})})};var f=function(){let[e,t]=(0,n.useState)(),[s,i]=(0,n.useState)(),[h,p]=(0,n.useState)(),[m,u]=(0,n.useState)(),[f,j]=(0,n.useState)(),[b,N]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1),[v,k]=(0,n.useState)(!1),{user:C,setUser:w,allBets:B,setAllBets:M,allBetsOutcome:S,setAllBetsOutcome:L,setAllTransactions:F,allTransactions:O}=(0,c.b)(),H=e=>{if(e){for(let t=0;t<e.length;t++)if(e[t].name===f.teams){let s=e[t].competitions[0].competitors[0],a=e[t].competitions[0].competitors[1];if(!0!==e[t].status.type.completed){alert("This game is not over yet. Please try again later!"),j(""),k(!1);break}let n={money_line:!0===s.winner?s.team.name:a.team.name,point_spread:f.money_line_team===s.team.name?s.score-a.score:a.score-s.score,total_points:parseInt(s.score)+parseInt(a.score)},i={bet_id:f.bet_id};if(f.point_spread&&(f.point_spread.slice(0,f.point_spread.indexOf("(")).trim()===n.point_spread?i.point_spread=!0:i.point_spread=!1),f.total_points){let e=f.total_points.slice(0,f.total_points.indexOf("(")).trim();"O"===e.charAt(0)?e.slice(1)>n.total_points&&(i.total_points=!0):"U"===e.charAt(0)&&e.slice(1)<n.total_points&&(i.total_points=!1)}if(f.money_line_team&&(f.money_line_team===n.money_line?i.money_line=!0:i.money_line=!1),!1!==Object.values(i)?i.payout=!0:i.payout=!1,!0===i.payout){let e=C.fake_money+f.payout;l.Z.post("https://sports-odds.herokuapp.com/api/update_money",{fake_money:e}).then(t=>{200===t.status&&w(t.data);let s=new Date,a=String(s.getDate()).padStart(2,"0"),n=String(s.getMonth()+1).padStart(2,"0"),i=s.getFullYear(),r="".concat(n,"/").concat(a,"/").concat(i);l.Z.post("https://sports-odds.herokuapp.com/api/addTransaction",{date:r,transaction_type:"Won bet",transaction_amount:f.payout,money_in_account:e}).then(e=>{200===e.status&&(F(e.data),j(""),k(!1))})})}l.Z.post("https://sports-odds.herokuapp.com/api/addBetOutcome",i).then(e=>{200===e.status&&l.Z.get("https://sports-odds.herokuapp.com/api/seeBetsOutcome").then(e=>{200===e.status&&L(e.data)})});break}}},A=()=>{l.Z.get("https://site.api.espn.com/apis/site/v2/sports/".concat(f.sport,"/").concat(f.league,"/scoreboard?dates=").concat(f.game_date)).then(e=>{H(e.data.events)})},Z=e=>{t(e.target.value)},I=e=>{p(e.target.value)},E=e=>{i(e.target.value)},D=e=>{u(e.target.value)},P=()=>{u(""),i(""),t(""),p("")};(0,n.useEffect)(()=>{l.Z.get("https://sports-odds.herokuapp.com/api/seeBets").then(e=>{200===e.status?(M(e.data),l.Z.get("https://sports-odds.herokuapp.com/api/seeBetsOutcome").then(e=>{200===e.status&&(L(e.data),l.Z.get("https://sports-odds.herokuapp.com/api/getTransaction").then(e=>{200===e.status&&F(e.data)}))})):console.log("Did not work as planned")})},[]);let T=async a=>{a.preventDefault();try{""===h&&p(C.username),""===e&&t(C.f_name),""===s&&i(C.l_name),""===m&&u(C.password),await l.Z.post("https://sports-odds.herokuapp.com/api/update_info",{username:h,password:m,firstName:e,lastName:s}).then(e=>{200===e.status?(w(e.data),N(!b)):setError("Invalid username or password!")})}catch(e){console.log(e)}P()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{}),(0,a.jsxs)("div",{className:r().profile_container,children:[(0,a.jsx)("div",{className:r().profile_header,children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:r().profile_title,children:[(0,a.jsx)("h1",{children:"Profile"}),(0,a.jsx)("h5",{style:{color:"#0047AB",cursor:"pointer"},onClick:()=>N(!b),children:"Edit?"})]}),null===C.image?(0,a.jsx)("img",{height:225,width:225,alt:"default",src:"/out/default.png"}):(0,a.jsx)("img",{height:225,width:225,alt:"avatar",src:C.image}),(0,a.jsx)("h2",{children:C.username}),(0,a.jsxs)("h3",{children:[C.f_name," ",C.l_name]}),(0,a.jsxs)("h3",{children:["Fake Money: $",C.fake_money]}),(0,a.jsx)("h4",{style:{color:"#0047AB",cursor:"pointer"},onClick:()=>g(!y),children:"Deposit/Withdraw"}),y?(0,a.jsx)(_,{setMoney:g}):null]}):null}),b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r().profile_body,children:(0,a.jsxs)("form",{onSubmit:T,children:[(0,a.jsx)("h2",{children:"Account Information"}),(0,a.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),(0,a.jsx)("input",{type:"text",id:"firstname",value:e,onChange:Z}),(0,a.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),(0,a.jsx)("input",{type:"text",id:"lastname",value:s,onChange:E}),(0,a.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,a.jsx)("input",{type:"password",id:"password",value:m,onChange:D}),(0,a.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,a.jsx)("input",{type:"text",id:"username",value:h,onChange:I}),(0,a.jsx)("button",{type:"submit",children:"Save Changes"})]})}),(0,a.jsx)(x,{})]}):null,v?(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:r().findGame,onClick:()=>{A()},children:"Find Results"})}):null,B?(0,a.jsxs)("div",{className:r().table_div,children:[(0,a.jsx)("h2",{style:{paddingTop:20},children:"Your Bets"}),(0,a.jsxs)("table",{className:r().bet_table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:r().bet_table_header,children:"Teams"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Point Spread"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Total Points"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Money Line"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Bet Amount"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Payout"})]})}),(0,a.jsx)("tbody",{children:B.map((e,t)=>{var s,l,n,i;return(0,a.jsxs)("tr",{onClick:()=>{S[t]||(f?(j(""),k(!1)):(j(e),k(!0)))},className:r().bet_table_row,style:{backgroundColor:f&&f.bet_id===e.bet_id?"#424242":null},children:[(0,a.jsx)("td",{className:r().bet_table_cell,children:e.teams}),(0,a.jsx)("td",{className:r().bet_table_cell,children:(null===(s=S[t])||void 0===s?void 0:s.point_spread)?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(d.mny,{style:{marginRight:10},color:"green"}),e.point_spread]}):(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.point_spread})}),(0,a.jsx)("td",{className:r().bet_table_cell,children:(null===(l=S[t])||void 0===l?void 0:l.total_points)?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(d.mny,{style:{marginRight:10},color:"green"}),e.total_points]}):(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.total_points})}),(0,a.jsx)("td",{className:r().bet_table_cell,children:(null===(n=S[t])||void 0===n?void 0:n.money_line)?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(d.mny,{style:{marginRight:10},color:"green"}),e.money_line," ",e.money_line_team]}):(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e.money_line," ",e.money_line_team]})}),(0,a.jsxs)("td",{className:r().bet_table_cell,children:["$",e.bet_amount]}),(0,a.jsx)("td",{className:r().bet_table_cell,children:(null===(i=S[t])||void 0===i?void 0:i.payout)?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(d.mny,{style:{marginRight:10},color:"green"}),"$",e.payout]}):(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["$",e.payout]})})]},e.bet_id)})})]})]}):null,O?(0,a.jsxs)("div",{className:r().table_div,children:[(0,a.jsx)("h2",{style:{paddingTop:20},children:"Transaction History"}),(0,a.jsxs)("table",{className:r().transaction_table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:r().bet_table_header,children:"Date"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Type"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Amount"}),(0,a.jsx)("th",{className:r().bet_table_header,children:"Balance"})]})}),(0,a.jsx)("tbody",{children:O.map(e=>(0,a.jsxs)("tr",{className:r().bet_table_row,children:[(0,a.jsx)("td",{className:r().bet_table_cell,children:e.date}),(0,a.jsx)("td",{className:r().bet_table_cell,children:e.transaction_type}),(0,a.jsx)("td",{className:r().bet_table_cell,children:e.transaction_amount}),(0,a.jsxs)("td",{className:r().bet_table_cell,children:["$",e.money_in_account]})]},e.transaction_id))})]})]}):null]})]})}},183:function(e,t,s){"use strict";var a=s(5893),l=s(7294),n=s(6154),i=s(7355),r=s.n(i),o=s(1664),c=s.n(o),d=s(4566);t.Z=function(){let[e,t]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),{user:o,setUser:h}=(0,d.b)(),p=()=>{try{n.Z.post("https://sports-odds.herokuapp.com/logout").then(e=>{200===e.status?h(null):console.log(e)})}catch(e){console.log(e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:r().navbar,children:[(0,a.jsx)("div",{style:{marginLeft:10},children:(0,a.jsx)(c(),{href:"/",children:(0,a.jsx)("img",{alt:"",className:r().logo,src:"/out/Sports Odds-1.png"})})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/NFL",children:"NFL"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/NBA",children:"NBA"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/WNBA",children:"WNBA"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/MLB",children:"MLB"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/NHL",children:"NHL"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsxs)("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)},className:r().link,children:["NCAA",e?(0,a.jsxs)("div",{className:r().seeMore,children:[(0,a.jsx)("li",{className:r().seeMoreli,children:(0,a.jsx)(c(),{className:r().seeMoreLink,href:"/MCBB",children:"MCBB"})}),(0,a.jsx)("li",{className:r().seeMoreli,children:(0,a.jsx)(c(),{className:r().seeMoreLink,href:"/WCBB",children:"WCBB"})}),(0,a.jsx)("li",{className:r().seeMoreli,children:(0,a.jsx)(c(),{className:r().seeMoreLink,href:"/CFB",children:"CFB"})})]}):null]})}),o?(0,a.jsxs)("div",{className:r().login_or_profile,children:[(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/profile",children:"Profile"})}),(0,a.jsx)("li",{onClick:()=>{p()},className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/",children:"Logout"})})]}):(0,a.jsx)("div",{className:r().login_or_profile,children:(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/login",children:"Login"})})})]}),(0,a.jsxs)("div",{className:r().mobile_navbar,children:[(0,a.jsx)("div",{style:{marginLeft:10},children:(0,a.jsx)(c(),{href:"/",children:(0,a.jsx)("img",{alt:"",className:r().logo,src:"/out/Sports Odds-1.png"})})}),(0,a.jsx)("span",{onClick:()=>i(!s),className:r().hamburger,children:"☰"})]}),s?(0,a.jsxs)("div",{className:r().mobile_li,children:[(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/NFL",children:"NFL"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/NBA",children:"NBA"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/WNBA",children:"WNBA"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/MLB",children:"MLB"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/NHL",children:"NHL"})}),(0,a.jsx)("li",{className:r().li,children:(0,a.jsxs)("div",{onClick:()=>{t(!e)},className:r().link,children:["NCAA",e?(0,a.jsxs)("div",{className:r().seeMore,children:[(0,a.jsx)("li",{className:r().seeMoreli,children:(0,a.jsx)(c(),{className:r().seeMoreLink,href:"/MCBB",children:"MCBB"})}),(0,a.jsx)("li",{className:r().seeMoreli,children:(0,a.jsx)(c(),{className:r().seeMoreLink,href:"/WCBB",children:"WCBB"})}),(0,a.jsx)("li",{className:r().seeMoreli,children:(0,a.jsx)(c(),{className:r().seeMoreLink,href:"/CFB",children:"CFB"})})]}):null]})}),o?(0,a.jsxs)("div",{className:r().login_or_profile,children:[(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/profile",children:"Profile"})}),(0,a.jsx)("li",{onClick:()=>{p()},className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/",children:"Logout"})})]}):(0,a.jsx)("div",{className:r().login_or_profile,children:(0,a.jsx)("li",{className:r().li,children:(0,a.jsx)(c(),{className:r().link,href:"/login",children:"Login"})})})]}):null]})}},7355:function(e){e.exports={li:"Header_li__hAG_C",link:"Header_link__nMT9k",navbar:"Header_navbar__7ndZO",seeMore:"Header_seeMore__QBAN3",seeMoreli:"Header_seeMoreli__aOKUk",seeMoreLink:"Header_seeMoreLink__HxtEr",login_or_profile:"Header_login_or_profile__Alwf4",logo:"Header_logo__cDK8p",hamburger:"Header_hamburger__HopNH",mobile_navbar:"Header_mobile_navbar__v8otW",mobile_li:"Header_mobile_li__HnSQw"}},3363:function(e){e.exports={container:"dropbox_container__PSH_h",fileInput:"dropbox_fileInput__kEDPn",uploadLabel:"dropbox_uploadLabel___sPfg",uploadButton:"dropbox_uploadButton__U1BJx",fileUrl:"dropbox_fileUrl__5DMHe"}},8702:function(e){e.exports={betting_account:"money_change_betting_account__vAHRm"}},8094:function(e){e.exports={profile_container:"profile_profile_container__aT3XU",profile_header:"profile_profile_header__Eiykh",profile_title:"profile_profile_title__fHYd4",profile_body:"profile_profile_body__ti6lI",bet_table:"profile_bet_table___nxZQ",transaction_table:"profile_transaction_table__ylOik",bet_table_header:"profile_bet_table_header__Fnrqz",bet_table_cell:"profile_bet_table_cell__ffSBH",bet_table_row:"profile_bet_table_row__CQhv_",findGame:"profile_findGame__FG_7u",table_div:"profile_table_div__ZMavS"}},8357:function(e,t,s){"use strict";s.d(t,{w_:function(){return o}});var a=s(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(l),i=function(){return(i=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var l in t=arguments[s])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},r=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(s[a[l]]=e[a[l]]);return s};function o(e){return function(t){return a.createElement(c,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return a.createElement(t.tag,i({key:s},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var s,l=e.attr,n=e.size,o=e.title,c=r(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,c,{className:s,style:i(i({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==n?a.createElement(n.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[423,154,664,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);